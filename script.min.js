let div=document.getElementById('cont'),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,1e4),renderer=new THREE.WebGLRenderer;renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(0),document.body.appendChild(renderer.domElement);let myObj,loader=new THREE.ObjectLoader;loader.load('ferrari1.json',function(a){console.log(a.rotation.x),myObj=a,myObj.rotation.y=1.57,myObj.position.x=0,myObj.scale.set(1.15,1.15,1.15),scene.add(myObj)});let point=new THREE.PointLight(0,0.7);scene.add(point);let ambient=new THREE.AmbientLight(16773120);scene.add(ambient);let directionalLight=new THREE.DirectionalLight(16753920,0.8);scene.add(directionalLight),window.addEventListener('resize',function(){let a=window.innerWidth,b=window.innerHeight;renderer.setSize(a,b),camera.aspect=a/b,camera.updateProjectionMatrix()});let skyboxGeometry=new THREE.CubeGeometry(3e3,2500,1e4),cubeMaterials=[new THREE.MeshBasicMaterial({map:new THREE.TextureLoader().load('texture/front.png'),side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({map:new THREE.TextureLoader().load('texture/back.png'),side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({map:new THREE.TextureLoader().load('texture/up.png'),side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({map:new THREE.TextureLoader().load('texture/down.png'),side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({map:new THREE.TextureLoader().load('texture/right.png'),side:THREE.DoubleSide}),new THREE.MeshBasicMaterial({map:new THREE.TextureLoader().load('texture/left.png'),side:THREE.DoubleSide})],cubeMaterial=new THREE.MeshFaceMaterial(cubeMaterials),cube=new THREE.Mesh(skyboxGeometry,cubeMaterial);scene.add(cube);let grid=new THREE.GridHelper(1e5,2e4,8388736,8388736);grid.position.y=-3,scene.add(grid);let composer=new THREE.EffectComposer(renderer),renderPass=new THREE.RenderPass(scene,camera);composer.addPass(renderPass);let pass1=new THREE.GlitchPass(0);composer.addPass(pass1);let effect=new THREE.ShaderPass(THREE.FilmShader);effect.uniforms.nIntensity.value=0.2,effect.uniforms.sIntensity.value=0.3,effect.uniforms.sCount.value=1800,effect.uniforms.grayscale.value=0,composer.addPass(effect),effect.renderToScreen=!0,cube.position.z=-4e3,camera.rotation.x=300,camera.position.y=60;function update(){camera.position.z-=0.7,cube.position.z-=0.4,2<camera.position.y&&(myObj.position.z-=0.719,camera.position.y-=0.1,camera.rotation.x+=0.0025),2<camera.position.y||(div.style.display='block',myObj.position.z-=0.7)}function render(){renderer.render(scene,camera),composer.render()}function GameLoop(){requestAnimationFrame(GameLoop),update(),render()}GameLoop();